<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>General Purpose Interface to 'Elasticsearch' • elastic</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="General Purpose Interface to 'Elasticsearch'">
<meta property="og:description" content="Connect to 'Elasticsearch', a 'NoSQL' database built on the 'Java'
    Virtual Machine. Interacts with the 'Elasticsearch' 'HTTP' API
    (&lt;https://www.elastic.co/products/elasticsearch&gt;), including functions for
    setting connection details to 'Elasticsearch' instances, loading bulk data,
    searching for documents with both 'HTTP' query variables and 'JSON' based body
    requests. In addition, 'elastic' provides functions for interacting with API's
    for 'indices', documents, nodes, clusters, an interface to the cat API, and
    more.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">elastic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/elastic.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/search.html">UNKNOWN TITLE</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/elastic">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="elastic" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#elastic" class="anchor"></a>elastic</h1></div>

<p><strong>A general purpose R interface to <a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a></strong></p>
<div id="elasticsearch-dsl" class="section level2">
<h2 class="hasAnchor">
<a href="#elasticsearch-dsl" class="anchor"></a>Elasticsearch DSL</h2>
<p>Also check out <code>elasticdsl</code> - an R DSL for Elasticsearch - <a href="https://github.com/ropensci/elasticdsl">https://github.com/ropensci/elasticdsl</a></p>
</div>
<div id="elasticsearch-info" class="section level2">
<h2 class="hasAnchor">
<a href="#elasticsearch-info" class="anchor"></a>Elasticsearch info</h2>
<ul>
<li><a href="https://www.elastic.co/products/elasticsearch">Elasticsearch home page</a></li>
<li><a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">API docs</a></li>
</ul>
</div>
<div id="compatibility" class="section level2">
<h2 class="hasAnchor">
<a href="#compatibility" class="anchor"></a>Compatibility</h2>
<p>This client is developed following the latest stable releases, currently <code>v7.0.0</code>. It is generally compatible with older versions of Elasticsearch. Unlike the <a href="https://github.com/elastic/elasticsearch-py#compatibility">Python client</a>, we try to keep as much compatibility as possible within a single version of this client, as that’s an easier setup in R world.</p>
</div>
<div id="security" class="section level2">
<h2 class="hasAnchor">
<a href="#security" class="anchor"></a>Security</h2>
<p>You’re fine running ES locally on your machine, but be careful just throwing up ES on a server with a public IP address - make sure to think about security.</p>
<ul>
<li>
<a href="https://www.elastic.co/products/shield">Shield</a> - This is a paid product provided by Elastic - so probably only applicable to enterprise users</li>
<li>DIY security - there are a variety of techniques for securing your Elasticsearch. A number of resources are collected in a <a href="http://recology.info/2015/02/secure-elasticsearch/">blog post</a> - tools include putting your ES behind something like Nginx, putting basic auth on top of it, using https, etc.</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Stable version from CRAN</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"elastic"</span>)</a></code></pre></div>
<p>Development version from GitHub</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"devtools"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"ropensci/elastic"</span>)</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(<span class="st">'elastic'</span>)</a></code></pre></div>
</div>
<div id="install-elasticsearch" class="section level2">
<h2 class="hasAnchor">
<a href="#install-elasticsearch" class="anchor"></a>Install Elasticsearch</h2>
<ul>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/_installation.html">Elasticsearch installation help</a></li>
</ul>
<p><strong>w/ Docker</strong></p>
<p>Pull the official elasticsearch image</p>
<pre><code>docker pull elasticsearch</code></pre>
<p>Then start up a container</p>
<pre><code>docker run -d -p 9200:9200 elasticsearch</code></pre>
<p>Then elasticsearch should be available on port 9200, try <code>curl localhost:9200</code> and you should get the familiar message indicating ES is on.</p>
<p>If you’re using boot2docker, you’ll need to use the IP address in place of localhost. Get it by doing <code>boot2docker ip</code>.</p>
<p><strong>on OSX</strong></p>
<ul>
<li>Download zip or tar file from Elasticsearch <a href="https://www.elastic.co/downloads">see here for download</a>, e.g., <code>curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.0-darwin-x86_64.tar.gz</code>
</li>
<li>Extract: <code>tar -zxvf elasticsearch-7.0.0-darwin-x86_64.tar.gz</code>
</li>
<li>Move it: <code>sudo mv elasticsearch-7.0.0 /usr/local</code>
</li>
<li>Navigate to /usr/local: <code>cd /usr/local</code>
</li>
<li>Delete symlinked <code>elasticsearch</code> directory: <code>rm -rf elasticsearch</code>
</li>
<li>Add shortcut: <code>sudo ln -s elasticsearch-7.0.0 elasticsearch</code> (replace version with your version)</li>
</ul>
<p>You can also install via Homebrew: <code>brew install elasticsearch</code></p>
<blockquote>
<p>Note: for the 1.6 and greater upgrades of Elasticsearch, they want you to have java 8 or greater. I downloaded Java 8 from here <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" class="uri">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a> and it seemed to work great.</p>
</blockquote>
</div>
<div id="upgrading-elasticsearch" class="section level2">
<h2 class="hasAnchor">
<a href="#upgrading-elasticsearch" class="anchor"></a>Upgrading Elasticsearch</h2>
<p>I am not totally clear on best practice here, but from what I understand, when you upgrade to a new version of Elasticsearch, place old <code>elasticsearch/data</code> and <code>elasticsearch/config</code> directories into the new installation (<code>elasticsearch/</code> dir). The new elasticsearch instance with replaced data and config directories should automatically update data to the new version and start working. Maybe if you use homebrew on a Mac to upgrade it takes care of this for you - not sure.</p>
<p>Obviously, upgrading Elasticsearch while keeping it running is a different thing (<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/setup-upgrade.html">some help here from Elastic</a>).</p>
</div>
<div id="start-elasticsearch" class="section level2">
<h2 class="hasAnchor">
<a href="#start-elasticsearch" class="anchor"></a>Start Elasticsearch</h2>
<ul>
<li>Navigate to elasticsearch: <code>cd /usr/local/elasticsearch</code>
</li>
<li>Start elasticsearch: <code>bin/elasticsearch</code>
</li>
</ul>
<p>I create a little bash shortcut called <code>es</code> that does both of the above commands in one step (<code>cd /usr/local/elasticsearch &amp;&amp; bin/elasticsearch</code>).</p>
</div>
<div id="initialization" class="section level2">
<h2 class="hasAnchor">
<a href="#initialization" class="anchor"></a>Initialization</h2>
<p>The function <code><a href="reference/connect.html">connect()</a></code> is used before doing anything else to set the connection details to your remote or local elasticsearch store. The details created by <code><a href="reference/connect.html">connect()</a></code> are written to your options for the current session, and are used by <code>elastic</code> functions.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="reference/connect.html">connect</a></span>(<span class="dt">port =</span> <span class="dv">9200</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt; &lt;Elasticsearch Connection&gt; </span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt;   transport:  http </span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;   host:       127.0.0.1 </span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;   port:       9200 </span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;   path:       NULL </span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;   username:   NULL </span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt;   password:   NULL </span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt;   errors:     simple </span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;   headers (names):   </span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt;   cainfo:  NULL</span></a></code></pre></div>
<p>For AWS hosted elasticsearch, make sure to specify path = "" and the correct port - transport schema pair.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="reference/connect.html">connect</a></span>(<span class="dt">host =</span> <span class="op">&lt;</span>aws_es_endpoint<span class="op">&gt;</span>, <span class="dt">path =</span> <span class="st">""</span>, <span class="dt">port =</span> <span class="dv">80</span>, <span class="dt">transport_schema  =</span> <span class="st">"http"</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">  <span class="co"># or</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw"><a href="reference/connect.html">connect</a></span>(<span class="dt">host =</span> <span class="op">&lt;</span>aws_es_endpoint<span class="op">&gt;</span>, <span class="dt">path =</span> <span class="st">""</span>, <span class="dt">port =</span> <span class="dv">443</span>, <span class="dt">transport_schema  =</span> <span class="st">"https"</span>)</a></code></pre></div>
<p>If you are using Elastic Cloud or an installation with authentication (X-pack), make sure to specify path = "“, user =”“, pwd =”" and the correct port - transport schema pair.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="reference/connect.html">connect</a></span>(<span class="dt">host =</span> <span class="op">&lt;</span>ec_endpoint<span class="op">&gt;</span>, <span class="dt">path =</span> <span class="st">""</span>, <span class="dt">user=</span><span class="st">"test"</span>, <span class="dt">pwd =</span> <span class="st">"1234"</span>, <span class="dt">port =</span> <span class="dv">9243</span>, <span class="dt">transport_schema  =</span> <span class="st">"https"</span>)</a></code></pre></div>
<p><br></p>
</div>
<div id="get-some-data" class="section level2">
<h2 class="hasAnchor">
<a href="#get-some-data" class="anchor"></a>Get some data</h2>
<p>Elasticsearch has a bulk load API to load data in fast. The format is pretty weird though. It’s sort of JSON, but would pass no JSON linter. I include a few data sets in <code>elastic</code> so it’s easy to get up and running, and so when you run examples in this package they’ll actually run the same way (hopefully).</p>
<p>I have prepare a non-exported function useful for preparing the weird format that Elasticsearch wants for bulk data loads, that is somewhat specific to PLOS data (See below), but you could modify for your purposes. See <code>make_bulk_plos()</code> and <code>make_bulk_gbif()</code> <a href="https://github.com/ropensci/elastic/blob/master/R/docs_bulk.r">here</a>.</p>
<div id="shakespeare-data" class="section level3">
<h3 class="hasAnchor">
<a href="#shakespeare-data" class="anchor"></a>Shakespeare data</h3>
<p>Elasticsearch provides some data on Shakespeare plays. I’ve provided a subset of this data in this package. Get the path for the file specific to your machine:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">shakespeare &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"examples"</span>, <span class="st">"shakespeare_data.json"</span>, <span class="dt">package =</span> <span class="st">"elastic"</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co"># If you're on Elastic v6 or greater, use this one with 1 type instead of 3:</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">shakespeare &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"examples"</span>, <span class="st">"shakespeare_data_.json"</span>, <span class="dt">package =</span> <span class="st">"elastic"</span>)</a></code></pre></div>
<p>Then load the data into Elasticsearch:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/invisible">invisible</a></span>(<span class="kw"><a href="reference/docs_bulk.html">docs_bulk</a></span>(x, shakespeare))</a></code></pre></div>
<p>If you need some big data to play with, the shakespeare dataset is a good one to start with. You can get the whole thing and pop it into Elasticsearch (beware, may take up to 10 minutes or so.):</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="ex">curl</span> -XGET https://download.elastic.co/demos/kibana/gettingstarted/shakespeare_6.0.json <span class="op">&gt;</span> shakespeare.json</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="ex">curl</span> -XPUT localhost:9200/_bulk --data-binary @shakespeare.json</a></code></pre></div>
</div>
<div id="public-library-of-science-plos-data" class="section level3">
<h3 class="hasAnchor">
<a href="#public-library-of-science-plos-data" class="anchor"></a>Public Library of Science (PLOS) data</h3>
<p>A dataset inluded in the <code>elastic</code> package is metadata for PLOS scholarly articles. Get the file path, then load:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="cf">if</span> (<span class="kw"><a href="reference/indices.html">index_exists</a></span>(x, <span class="st">"plos"</span>)) <span class="kw"><a href="reference/indices.html">index_delete</a></span>(x, <span class="st">"plos"</span>)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co">#&gt; $acknowledged</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">plosdat &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"examples"</span>, <span class="st">"plos_data.json"</span>, <span class="dt">package =</span> <span class="st">"elastic"</span>)</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/invisible">invisible</a></span>(<span class="kw"><a href="reference/docs_bulk.html">docs_bulk</a></span>(x, plosdat))</a></code></pre></div>
</div>
<div id="global-biodiversity-information-facility-gbif-data" class="section level3">
<h3 class="hasAnchor">
<a href="#global-biodiversity-information-facility-gbif-data" class="anchor"></a>Global Biodiversity Information Facility (GBIF) data</h3>
<p>A dataset inluded in the <code>elastic</code> package is data for GBIF species occurrence records. Get the file path, then load:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="cf">if</span> (<span class="kw"><a href="reference/indices.html">index_exists</a></span>(x, <span class="st">"gbif"</span>)) <span class="kw"><a href="reference/indices.html">index_delete</a></span>(x, <span class="st">"gbif"</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">#&gt; $acknowledged</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">gbifdat &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"examples"</span>, <span class="st">"gbif_data.json"</span>, <span class="dt">package =</span> <span class="st">"elastic"</span>)</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/invisible">invisible</a></span>(<span class="kw"><a href="reference/docs_bulk.html">docs_bulk</a></span>(x, gbifdat))</a></code></pre></div>
<p>GBIF geo data with a coordinates element to allow <code>geo_shape</code> queries</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="cf">if</span> (<span class="kw"><a href="reference/indices.html">index_exists</a></span>(x, <span class="st">"gbifgeo"</span>)) <span class="kw"><a href="reference/indices.html">index_delete</a></span>(x, <span class="st">"gbifgeo"</span>)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co">#&gt; $acknowledged</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">gbifgeo &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"examples"</span>, <span class="st">"gbif_geo.json"</span>, <span class="dt">package =</span> <span class="st">"elastic"</span>)</a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/invisible">invisible</a></span>(<span class="kw"><a href="reference/docs_bulk.html">docs_bulk</a></span>(x, gbifgeo))</a></code></pre></div>
</div>
<div id="more-data-sets" class="section level3">
<h3 class="hasAnchor">
<a href="#more-data-sets" class="anchor"></a>More data sets</h3>
<p>There are more datasets formatted for bulk loading in the <code>ropensci/elastic_data</code> GitHub repository. Find it at <a href="https://github.com/ropensci/elastic_data" class="uri">https://github.com/ropensci/elastic_data</a></p>
<p><br></p>
</div>
</div>
<div id="search" class="section level2">
<h2 class="hasAnchor">
<a href="#search" class="anchor"></a>Search</h2>
<p>Search the <code>plos</code> index and only return 1 result</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="reference/Search.html">Search</a></span>(x, <span class="dt">index =</span> <span class="st">"plos"</span>, <span class="dt">size =</span> <span class="dv">1</span>)<span class="op">$</span>hits<span class="op">$</span>hits</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt; [[1]]$`_index`</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt; [1] "plos"</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt; [[1]]$`_type`</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt; [1] "article"</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt; [[1]]$`_id`</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt; [1] "0"</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt; [[1]]$`_score`</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt; [[1]]$`_source`</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt; [[1]]$`_source`$id</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; [1] "10.1371/journal.pone.0007737"</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; [[1]]$`_source`$title</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; [1] "Phospholipase C-β4 Is Essential for the Progression of the Normal Sleep Sequence and Ultradian Body Temperature Rhythms in Mice"</span></a></code></pre></div>
<p>Search the <code>plos</code> index, and the <code>article</code> document type, and query for <em>antibody</em>, limit to 1 result</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="reference/Search.html">Search</a></span>(x, <span class="dt">index =</span> <span class="st">"plos"</span>, <span class="dt">type =</span> <span class="st">"article"</span>, <span class="dt">q =</span> <span class="st">"antibody"</span>, <span class="dt">size =</span> <span class="dv">1</span>)<span class="op">$</span>hits<span class="op">$</span>hits</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt; [[1]]$`_index`</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#&gt; [1] "plos"</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">#&gt; [[1]]$`_type`</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co">#&gt; [1] "article"</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">#&gt; [[1]]$`_id`</span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co">#&gt; [1] "813"</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="co">#&gt; [[1]]$`_score`</span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="co">#&gt; [1] 5.18676</span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15"><span class="co">#&gt; [[1]]$`_source`</span></a>
<a class="sourceLine" id="cb16-16" data-line-number="16"><span class="co">#&gt; [[1]]$`_source`$id</span></a>
<a class="sourceLine" id="cb16-17" data-line-number="17"><span class="co">#&gt; [1] "10.1371/journal.pone.0107638"</span></a>
<a class="sourceLine" id="cb16-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-19" data-line-number="19"><span class="co">#&gt; [[1]]$`_source`$title</span></a>
<a class="sourceLine" id="cb16-20" data-line-number="20"><span class="co">#&gt; [1] "Sortase A Induces Th17-Mediated and Antibody-Independent Immunity to Heterologous Serotypes of Group A Streptococci"</span></a></code></pre></div>
</div>
<div id="get-documents" class="section level2">
<h2 class="hasAnchor">
<a href="#get-documents" class="anchor"></a>Get documents</h2>
<p>Get document with id=4</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="reference/docs_get.html">docs_get</a></span>(x, <span class="dt">index =</span> <span class="st">'plos'</span>, <span class="dt">type =</span> <span class="st">'article'</span>, <span class="dt">id =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt; $`_index`</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; [1] "plos"</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt; $`_type`</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt; [1] "article"</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt; $`_id`</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt; [1] "4"</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="co">#&gt; $`_version`</span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt; $`_seq_no`</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt; [1] 4</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; $`_primary_term`</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-20" data-line-number="20"><span class="co">#&gt; $found</span></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-23" data-line-number="23"><span class="co">#&gt; $`_source`</span></a>
<a class="sourceLine" id="cb17-24" data-line-number="24"><span class="co">#&gt; $`_source`$id</span></a>
<a class="sourceLine" id="cb17-25" data-line-number="25"><span class="co">#&gt; [1] "10.1371/journal.pone.0107758"</span></a>
<a class="sourceLine" id="cb17-26" data-line-number="26"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-27" data-line-number="27"><span class="co">#&gt; $`_source`$title</span></a>
<a class="sourceLine" id="cb17-28" data-line-number="28"><span class="co">#&gt; [1] "Lactobacilli Inactivate Chlamydia trachomatis through Lactic Acid but Not H2O2"</span></a></code></pre></div>
<p>Get certain fields</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="reference/docs_get.html">docs_get</a></span>(x, <span class="dt">index =</span> <span class="st">'plos'</span>, <span class="dt">type =</span> <span class="st">'article'</span>, <span class="dt">id =</span> <span class="dv">4</span>, <span class="dt">fields =</span> <span class="st">'id'</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="co">#&gt; $`_index`</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="co">#&gt; [1] "plos"</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="co">#&gt; $`_type`</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">#&gt; [1] "article"</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="co">#&gt; $`_id`</span></a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">#&gt; [1] "4"</span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="co">#&gt; $`_version`</span></a>
<a class="sourceLine" id="cb18-12" data-line-number="12"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb18-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-14" data-line-number="14"><span class="co">#&gt; $`_seq_no`</span></a>
<a class="sourceLine" id="cb18-15" data-line-number="15"><span class="co">#&gt; [1] 4</span></a>
<a class="sourceLine" id="cb18-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-17" data-line-number="17"><span class="co">#&gt; $`_primary_term`</span></a>
<a class="sourceLine" id="cb18-18" data-line-number="18"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb18-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-20" data-line-number="20"><span class="co">#&gt; $found</span></a>
<a class="sourceLine" id="cb18-21" data-line-number="21"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
</div>
<div id="get-multiple-documents-via-the-multiget-api" class="section level2">
<h2 class="hasAnchor">
<a href="#get-multiple-documents-via-the-multiget-api" class="anchor"></a>Get multiple documents via the multiget API</h2>
<p>Same index and type, different document ids</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw"><a href="reference/docs_mget.html">docs_mget</a></span>(x, <span class="dt">index =</span> <span class="st">"plos"</span>, <span class="dt">type =</span> <span class="st">"article"</span>, <span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="co">#&gt; $docs</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="co">#&gt; $docs[[1]]</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="co">#&gt; $docs[[1]]$`_index`</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="co">#&gt; [1] "plos"</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="co">#&gt; $docs[[1]]$`_type`</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="co">#&gt; [1] "article"</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">#&gt; $docs[[1]]$`_id`</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="co">#&gt; [1] "1"</span></a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-13" data-line-number="13"><span class="co">#&gt; $docs[[1]]$`_version`</span></a>
<a class="sourceLine" id="cb19-14" data-line-number="14"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb19-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-16" data-line-number="16"><span class="co">#&gt; $docs[[1]]$`_seq_no`</span></a>
<a class="sourceLine" id="cb19-17" data-line-number="17"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb19-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-19" data-line-number="19"><span class="co">#&gt; $docs[[1]]$`_primary_term`</span></a>
<a class="sourceLine" id="cb19-20" data-line-number="20"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb19-21" data-line-number="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-22" data-line-number="22"><span class="co">#&gt; $docs[[1]]$found</span></a>
<a class="sourceLine" id="cb19-23" data-line-number="23"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb19-24" data-line-number="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-25" data-line-number="25"><span class="co">#&gt; $docs[[1]]$`_source`</span></a>
<a class="sourceLine" id="cb19-26" data-line-number="26"><span class="co">#&gt; $docs[[1]]$`_source`$id</span></a>
<a class="sourceLine" id="cb19-27" data-line-number="27"><span class="co">#&gt; [1] "10.1371/journal.pone.0098602"</span></a>
<a class="sourceLine" id="cb19-28" data-line-number="28"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-29" data-line-number="29"><span class="co">#&gt; $docs[[1]]$`_source`$title</span></a>
<a class="sourceLine" id="cb19-30" data-line-number="30"><span class="co">#&gt; [1] "Population Genetic Structure of a Sandstone Specialist and a Generalist Heath Species at Two Levels of Sandstone Patchiness across the Strait of Gibraltar"</span></a>
<a class="sourceLine" id="cb19-31" data-line-number="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-32" data-line-number="32"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-33" data-line-number="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-34" data-line-number="34"><span class="co">#&gt; $docs[[2]]</span></a>
<a class="sourceLine" id="cb19-35" data-line-number="35"><span class="co">#&gt; $docs[[2]]$`_index`</span></a>
<a class="sourceLine" id="cb19-36" data-line-number="36"><span class="co">#&gt; [1] "plos"</span></a>
<a class="sourceLine" id="cb19-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-38" data-line-number="38"><span class="co">#&gt; $docs[[2]]$`_type`</span></a>
<a class="sourceLine" id="cb19-39" data-line-number="39"><span class="co">#&gt; [1] "article"</span></a>
<a class="sourceLine" id="cb19-40" data-line-number="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-41" data-line-number="41"><span class="co">#&gt; $docs[[2]]$`_id`</span></a>
<a class="sourceLine" id="cb19-42" data-line-number="42"><span class="co">#&gt; [1] "2"</span></a>
<a class="sourceLine" id="cb19-43" data-line-number="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-44" data-line-number="44"><span class="co">#&gt; $docs[[2]]$`_version`</span></a>
<a class="sourceLine" id="cb19-45" data-line-number="45"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb19-46" data-line-number="46"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-47" data-line-number="47"><span class="co">#&gt; $docs[[2]]$`_seq_no`</span></a>
<a class="sourceLine" id="cb19-48" data-line-number="48"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb19-49" data-line-number="49"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-50" data-line-number="50"><span class="co">#&gt; $docs[[2]]$`_primary_term`</span></a>
<a class="sourceLine" id="cb19-51" data-line-number="51"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb19-52" data-line-number="52"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-53" data-line-number="53"><span class="co">#&gt; $docs[[2]]$found</span></a>
<a class="sourceLine" id="cb19-54" data-line-number="54"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb19-55" data-line-number="55"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-56" data-line-number="56"><span class="co">#&gt; $docs[[2]]$`_source`</span></a>
<a class="sourceLine" id="cb19-57" data-line-number="57"><span class="co">#&gt; $docs[[2]]$`_source`$id</span></a>
<a class="sourceLine" id="cb19-58" data-line-number="58"><span class="co">#&gt; [1] "10.1371/journal.pone.0107757"</span></a>
<a class="sourceLine" id="cb19-59" data-line-number="59"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-60" data-line-number="60"><span class="co">#&gt; $docs[[2]]$`_source`$title</span></a>
<a class="sourceLine" id="cb19-61" data-line-number="61"><span class="co">#&gt; [1] "Cigarette Smoke Extract Induces a Phenotypic Shift in Epithelial Cells; Involvement of HIF1α in Mesenchymal Transition"</span></a></code></pre></div>
<p>Different indeces, types, and ids</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw"><a href="reference/docs_mget.html">docs_mget</a></span>(x, <span class="dt">index_type_id =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"plos"</span>, <span class="st">"article"</span>, <span class="dv">1</span>), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"gbif"</span>, <span class="st">"record"</span>, <span class="dv">1</span>)))<span class="op">$</span>docs[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="co">#&gt; $`_index`</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="co">#&gt; [1] "plos"</span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="co">#&gt; $`_type`</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="co">#&gt; [1] "article"</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-8" data-line-number="8"><span class="co">#&gt; $`_id`</span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9"><span class="co">#&gt; [1] "1"</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11"><span class="co">#&gt; $`_version`</span></a>
<a class="sourceLine" id="cb20-12" data-line-number="12"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb20-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-14" data-line-number="14"><span class="co">#&gt; $`_seq_no`</span></a>
<a class="sourceLine" id="cb20-15" data-line-number="15"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb20-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-17" data-line-number="17"><span class="co">#&gt; $`_primary_term`</span></a>
<a class="sourceLine" id="cb20-18" data-line-number="18"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb20-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-20" data-line-number="20"><span class="co">#&gt; $found</span></a>
<a class="sourceLine" id="cb20-21" data-line-number="21"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb20-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-23" data-line-number="23"><span class="co">#&gt; $`_source`</span></a>
<a class="sourceLine" id="cb20-24" data-line-number="24"><span class="co">#&gt; $`_source`$id</span></a>
<a class="sourceLine" id="cb20-25" data-line-number="25"><span class="co">#&gt; [1] "10.1371/journal.pone.0098602"</span></a>
<a class="sourceLine" id="cb20-26" data-line-number="26"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-27" data-line-number="27"><span class="co">#&gt; $`_source`$title</span></a>
<a class="sourceLine" id="cb20-28" data-line-number="28"><span class="co">#&gt; [1] "Population Genetic Structure of a Sandstone Specialist and a Generalist Heath Species at Two Levels of Sandstone Patchiness across the Strait of Gibraltar"</span></a></code></pre></div>
</div>
<div id="parsing" class="section level2">
<h2 class="hasAnchor">
<a href="#parsing" class="anchor"></a>Parsing</h2>
<p>You can optionally get back raw <code>json</code> from <code><a href="reference/Search.html">Search()</a></code>, <code><a href="reference/docs_get.html">docs_get()</a></code>, and <code><a href="reference/docs_mget.html">docs_mget()</a></code> setting parameter <code>raw=TRUE</code>.</p>
<p>For example:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">(out &lt;-<span class="st"> </span><span class="kw"><a href="reference/docs_mget.html">docs_mget</a></span>(x, <span class="dt">index =</span> <span class="st">"plos"</span>, <span class="dt">type =</span> <span class="st">"article"</span>, <span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">raw =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="co">#&gt; [1] "{\"docs\":[{\"_index\":\"plos\",\"_type\":\"article\",\"_id\":\"1\",\"_version\":1,\"_seq_no\":1,\"_primary_term\":1,\"found\":true,\"_source\":{\"id\":\"10.1371/journal.pone.0098602\",\"title\":\"Population Genetic Structure of a Sandstone Specialist and a Generalist Heath Species at Two Levels of Sandstone Patchiness across the Strait of Gibraltar\"}},{\"_index\":\"plos\",\"_type\":\"article\",\"_id\":\"2\",\"_version\":1,\"_seq_no\":2,\"_primary_term\":1,\"found\":true,\"_source\":{\"id\":\"10.1371/journal.pone.0107757\",\"title\":\"Cigarette Smoke Extract Induces a Phenotypic Shift in Epithelial Cells; Involvement of HIF1α in Mesenchymal Transition\"}}]}"</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="co">#&gt; [1] "elastic_mget"</span></a></code></pre></div>
<p>Then parse</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">jsonlite<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/jsonlite/topics/fromJSON">fromJSON</a></span>(out)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co">#&gt; $docs</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="co">#&gt;   _index   _type _id _version _seq_no _primary_term found</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="co">#&gt; 1   plos article   1        1       1             1  TRUE</span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="co">#&gt; 2   plos article   2        1       2             1  TRUE</span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="co">#&gt;                     _source.id</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="co">#&gt; 1 10.1371/journal.pone.0098602</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="co">#&gt; 2 10.1371/journal.pone.0107757</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="co">#&gt;                                                                                                                                                _source.title</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="co">#&gt; 1 Population Genetic Structure of a Sandstone Specialist and a Generalist Heath Species at Two Levels of Sandstone Patchiness across the Strait of Gibraltar</span></a>
<a class="sourceLine" id="cb22-11" data-line-number="11"><span class="co">#&gt; 2                                     Cigarette Smoke Extract Induces a Phenotypic Shift in Epithelial Cells; Involvement of HIF1α in Mesenchymal Transition</span></a></code></pre></div>
</div>
<div id="known-pain-points" class="section level2">
<h2 class="hasAnchor">
<a href="#known-pain-points" class="anchor"></a>Known pain points</h2>
<ul>
<li>On secure Elasticsearch servers:
<ul>
<li>
<code>HEAD</code> requests don’t seem to work, not sure why</li>
<li>If you allow only <code>GET</code> requests, a number of functions that require <code>POST</code> requests obviously then won’t work. A big one is <code><a href="reference/Search.html">Search()</a></code>, but you can use <code><a href="reference/Search_uri.html">Search_uri()</a></code> to get around this, which uses <code>GET</code> instead of <code>POST</code>, but you can’t pass a more complicated query via the body</li>
</ul>
</li>
</ul>
</div>
<div id="screencast" class="section level2">
<h2 class="hasAnchor">
<a href="#screencast" class="anchor"></a>Screencast</h2>
<p><a href="https://vimeo.com/124659179"><img src="tools/screencast.png" width="400"></a></p>
</div>
<div id="meta" class="section level2">
<h2 class="hasAnchor">
<a href="#meta" class="anchor"></a>Meta</h2>
<ul>
<li>Please <a href="https://github.com/ropensci/elastic/issues">report any issues or bugs</a>
</li>
<li>License: MIT</li>
<li>Get citation information for <code>elastic</code> in R doing <code><a href="https://www.rdocumentation.org/packages/utils/topics/citation">citation(package = 'elastic')</a></code>
</li>
<li>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</li>
</ul>
<p><a href="https://ropensci.org"><img src="https://ropensci.org/public_images/github_footer.png" alt="rofooter"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=elastic">https://​cloud.r-project.org/​package=elastic</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/elastic">https://​github.com/​ropensci/​elastic</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/elastic/issues">https://​github.com/​ropensci/​elastic/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Scott Chamberlain <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://travis-ci.org/ropensci/elastic"><img src="https://api.travis-ci.org/ropensci/elastic.svg" alt="Build Status"></a></li>
<li><a href="https://cranchecks.info/pkgs/elastic"><img src="https://cranchecks.info/badges/worst/elastic" alt="cran checks"></a></li>
<li><a href="https://github.com/metacran/cranlogs.app"><img src="http://cranlogs.r-pkg.org/badges/elastic?color=E664A4" alt="rstudio mirror downloads"></a></li>
<li><a href="https://cran.r-project.org/package=elastic"><img src="http://www.r-pkg.org/badges/version/elastic" alt="cran version"></a></li>
<li><a href="https://codecov.io/github/ropensci/elastic?branch=master"><img src="https://codecov.io/github/ropensci/elastic/coverage.svg?branch=master" alt="codecov.io"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Scott Chamberlain.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
