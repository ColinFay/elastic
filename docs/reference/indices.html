<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Index API operations — indices • elastic</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Index API operations — indices" />

<meta property="og:description" content="Index API operations" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">elastic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/elastic.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/search.html">UNKNOWN TITLE</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/elastic">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Index API operations</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/elastic/blob/master/R/index.R'><code>R/index.R</code></a></small>
    <div class="hidden name"><code>indices.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Index API operations</p>
    
    </div>

    <pre class="usage"><span class='fu'>index_get</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>features</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>raw</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='fu'>index_exists</span>(<span class='no'>conn</span>, <span class='no'>index</span>, <span class='no'>...</span>)

<span class='fu'>index_delete</span>(<span class='no'>conn</span>, <span class='no'>index</span>, <span class='kw'>raw</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='fu'>index_create</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>body</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>raw</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='fu'>index_recreate</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>body</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>raw</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='fu'>index_close</span>(<span class='no'>conn</span>, <span class='no'>index</span>, <span class='no'>...</span>)

<span class='fu'>index_open</span>(<span class='no'>conn</span>, <span class='no'>index</span>, <span class='no'>...</span>)

<span class='fu'>index_stats</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>completion_fields</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>fielddata_fields</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>fields</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>groups</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>level</span> <span class='kw'>=</span> <span class='st'>"indices"</span>, <span class='no'>...</span>)

<span class='fu'>index_settings</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"_all"</span>, <span class='no'>...</span>)

<span class='fu'>index_settings_update</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>body</span>, <span class='no'>...</span>)

<span class='fu'>index_segments</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>index_recovery</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>detailed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>active_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='fu'>index_optimize</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>max_num_segments</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>only_expunge_deletes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>flush</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>wait_for_merge</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>)

<span class='fu'>index_forcemerge</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>max_num_segments</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>only_expunge_deletes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>flush</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='fu'>index_upgrade</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>wait_for_completion</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='fu'>index_analyze</span>(<span class='no'>conn</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>field</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>analyzer</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>tokenizer</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>filters</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>char_filters</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>body</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(), <span class='no'>...</span>)

<span class='fu'>index_flush</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>force</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>full</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>wait_if_ongoing</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='fu'>index_clear_cache</span>(<span class='no'>conn</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>filter</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>filter_keys</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>fielddata</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>query_cache</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>id_cache</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>conn</th>
      <td><p>an Elasticsearch connection object, see <code><a href='connect.html'>connect()</a></code></p></td>
    </tr>
    <tr>
      <th>index</th>
      <td><p>(character) A character vector of index names</p></td>
    </tr>
    <tr>
      <th>features</th>
      <td><p>(character) A single feature. One of settings, mappings, or
aliases</p></td>
    </tr>
    <tr>
      <th>raw</th>
      <td><p>If <code>TRUE</code> (default), data is parsed to list. If FALSE, then raw JSON.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If <code>TRUE</code> (default) the url call used printed to console.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Curl args passed on to <a href='https://www.rdocumentation.org/packages/crul/topics/HttpClient'>crul::HttpClient</a></p></td>
    </tr>
    <tr>
      <th>body</th>
      <td><p>Query, either a list or json.</p></td>
    </tr>
    <tr>
      <th>metric</th>
      <td><p>(character) A character vector of metrics to display. Possible
values: "_all", "completion", "docs", "fielddata", "filter_cache", "flush",
"get", "id_cache", "indexing", "merge", "percolate", "refresh", "search",
"segments", "store", "warmer".</p></td>
    </tr>
    <tr>
      <th>completion_fields</th>
      <td><p>(character) A character vector of fields for completion metric
(supports wildcards)</p></td>
    </tr>
    <tr>
      <th>fielddata_fields</th>
      <td><p>(character) A character vector of fields for fielddata metric
(supports wildcards)</p></td>
    </tr>
    <tr>
      <th>fields</th>
      <td><p>(character) Fields to add.</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>(character) A character vector of search groups for search statistics.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>(character) Return stats aggregated on "cluster", "indices" (default) or "shards"</p></td>
    </tr>
    <tr>
      <th>detailed</th>
      <td><p>(logical) Whether to display detailed information about shard recovery.
Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>active_only</th>
      <td><p>(logical) Display only those recoveries that are currently on-going.
Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>max_num_segments</th>
      <td><p>(character) The number of segments the index should be merged into.
Default: "dynamic"</p></td>
    </tr>
    <tr>
      <th>only_expunge_deletes</th>
      <td><p>(logical) Specify whether the operation should only expunge
deleted documents</p></td>
    </tr>
    <tr>
      <th>flush</th>
      <td><p>(logical) Specify whether the index should be flushed after performing the
operation. Default: <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>wait_for_merge</th>
      <td><p>(logical) Specify whether the request should block until the merge
process is finished. Default: <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>wait_for_completion</th>
      <td><p>(logical) Should the request wait for the upgrade to complete.
Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>text</th>
      <td><p>The text on which the analysis should be performed (when request body is not used)</p></td>
    </tr>
    <tr>
      <th>field</th>
      <td><p>Use the analyzer configured for this field (instead of passing the analyzer name)</p></td>
    </tr>
    <tr>
      <th>analyzer</th>
      <td><p>The name of the analyzer to use</p></td>
    </tr>
    <tr>
      <th>tokenizer</th>
      <td><p>The name of the tokenizer to use for the analysis</p></td>
    </tr>
    <tr>
      <th>filters</th>
      <td><p>A character vector of filters to use for the analysis</p></td>
    </tr>
    <tr>
      <th>char_filters</th>
      <td><p>A character vector of character filters to use for the analysis</p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>(logical) Whether a flush should be forced even if it is not necessarily needed
ie. if no changes will be committed to the index.</p></td>
    </tr>
    <tr>
      <th>full</th>
      <td><p>(logical) If set to TRUE a new index writer is created and settings that have been
changed related to the index writer will be refreshed.</p></td>
    </tr>
    <tr>
      <th>wait_if_ongoing</th>
      <td><p>If TRUE, the flush operation will block until the flush can be executed
if another flush operation is already executing. The default is false and will cause an
exception to be thrown on the shard level if another flush operation is already running.</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>(logical) Clear filter caches</p></td>
    </tr>
    <tr>
      <th>filter_keys</th>
      <td><p>(character) A vector of keys to clear when using the <code>filter_cache</code>
parameter (default: all)</p></td>
    </tr>
    <tr>
      <th>fielddata</th>
      <td><p>(logical) Clear field data</p></td>
    </tr>
    <tr>
      <th>query_cache</th>
      <td><p>(logical) Clear query caches</p></td>
    </tr>
    <tr>
      <th>id_cache</th>
      <td><p>(logical) Clear ID caches for parent/child</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>index_analyze</strong>:
<a href='https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html'>https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html</a>
This method can accept a string of text in the body, but this function passes it as a
parameter in a GET request to simplify.</p>
<p><strong>index_flush</strong>:
<a href='https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-flush.html'>https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-flush.html</a>
From the ES website: The flush process of an index basically frees memory from the index by
flushing data to the index storage and clearing the internal transaction log. By default,
Elasticsearch uses memory heuristics in order to automatically trigger flush operations as
required in order to clear memory.</p>
<p><strong>index_status</strong>: The API endpoint for this function was deprecated in
Elasticsearch <code>v1.2.0</code>, and will likely be removed soon. Use <code>index_recovery()</code>
instead.</p>
<p><strong>index_settings_update</strong>: There are a lot of options you can change with this
function. See
https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-update-settings.html
for all the options.</p>
<p><strong>index settings</strong>: See
https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html
for the <em>static</em> and <em>dynamic</em> settings you can set on indices.</p>
    
    <h2 class="hasAnchor" id="mappings"><a class="anchor" href="#mappings"></a>Mappings</h2>

    
    <p>The "keyword" type is not supported in Elasticsearch &lt; v5. If you do use a mapping
with "keyword" type in Elasticsearch &lt; v5 <code>index_create()</code> should fail.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://www.elastic.co/guide/en/elasticsearch/reference/current/indices.html'>https://www.elastic.co/guide/en/elasticsearch/reference/current/indices.html</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># connection setup</span>
(<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='connect.html'>connect</a></span>())

<span class='co'># get information on an index</span>
<span class='fu'>index_get</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'shakespeare'</span>)
<span class='co'>## this one is the same as running index_settings('shakespeare')</span>
<span class='fu'>index_get</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'shakespeare'</span>, <span class='kw'>features</span><span class='kw'>=</span><span class='st'>'settings'</span>)
<span class='fu'>index_get</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'shakespeare'</span>, <span class='kw'>features</span><span class='kw'>=</span><span class='st'>'mappings'</span>)
<span class='fu'>index_get</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'shakespeare'</span>, <span class='kw'>features</span><span class='kw'>=</span><span class='st'>'alias'</span>)

<span class='co'># check for index existence</span>
<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'shakespeare'</span>)
<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'plos'</span>)

<span class='co'># create an index</span>
<span class='kw'>if</span> (<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='st'>'twitter'</span>)) <span class='fu'>index_delete</span>(<span class='no'>x</span>, <span class='st'>'twitter'</span>)
<span class='fu'>index_create</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'twitter'</span>)
<span class='kw'>if</span> (<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='st'>'things'</span>)) <span class='fu'>index_delete</span>(<span class='no'>x</span>, <span class='st'>'things'</span>)
<span class='fu'>index_create</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'things'</span>)
<span class='kw'>if</span> (<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)) <span class='fu'>index_delete</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
<span class='fu'>index_create</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'plos'</span>)

<span class='co'># re-create an index</span>
<span class='fu'>index_recreate</span>(<span class='no'>x</span>, <span class='st'>"deer"</span>)
<span class='fu'>index_recreate</span>(<span class='no'>x</span>, <span class='st'>"deer"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># delete an index</span>
<span class='kw'>if</span> (<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)) <span class='fu'>index_delete</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'plos'</span>)

<span class='co'>## with a body</span>
<span class='no'>body</span> <span class='kw'>&lt;-</span> <span class='st'>'{
 "settings" : {
  "index" : {
    "number_of_shards" : 3,
    "number_of_replicas" : 2
   }
 }
}'</span>
<span class='kw'>if</span> (<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='st'>'alsothat'</span>)) <span class='fu'>index_delete</span>(<span class='no'>x</span>, <span class='st'>'alsothat'</span>)
<span class='fu'>index_create</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'alsothat'</span>, <span class='kw'>body</span> <span class='kw'>=</span> <span class='no'>body</span>)
<span class='co'>## with read only</span>
<span class='no'>body</span> <span class='kw'>&lt;-</span> <span class='st'>'{
 "settings" : {
  "index" : {
    "blocks" : {
      "read_only" : true
    }
   }
 }
}'</span>
<span class='co'># index_create(x, index='myindex', body = body)</span>
<span class='co'># then this delete call should fail with something like:</span>
<span class='co'>## &gt; Error: 403 - blocked by: [FORBIDDEN/5/index read-only (api)]</span>
<span class='co'># index_delete(x, index='myindex')</span>

<span class='co'>## with mappings</span>
<span class='no'>body</span> <span class='kw'>&lt;-</span> <span class='st'>'{
 "mappings": {
   "record": {
     "properties": {
       "location" : {"type" : "geo_point"}
      }
   }
 }
}'</span>
<span class='kw'>if</span> (!<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='st'>'gbifnewgeo'</span>)) <span class='fu'>index_create</span>(<span class='no'>x</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='st'>'gbifnewgeo'</span>, <span class='kw'>body</span><span class='kw'>=</span><span class='no'>body</span>)
<span class='no'>gbifgeo</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"examples"</span>, <span class='st'>"gbif_geosmall.json"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"elastic"</span>)
<span class='fu'><a href='docs_bulk.html'>docs_bulk</a></span>(<span class='no'>x</span>, <span class='no'>gbifgeo</span>)

<span class='co'># close an index</span>
<span class='fu'>index_create</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
<span class='fu'>index_close</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)

<span class='co'># open an index</span>
<span class='fu'>index_open</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)

<span class='co'># Get stats on an index</span>
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'plos'</span>,<span class='st'>'gbif'</span>))
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'plos'</span>,<span class='st'>'gbif'</span>), <span class='kw'>metric</span><span class='kw'>=</span><span class='st'>'refresh'</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='st'>"indexing"</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='st'>'shakespeare'</span>, <span class='kw'>metric</span><span class='kw'>=</span><span class='st'>'completion'</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='st'>'shakespeare'</span>, <span class='kw'>metric</span><span class='kw'>=</span><span class='st'>'completion'</span>, <span class='kw'>completion_fields</span> <span class='kw'>=</span> <span class='st'>"completion"</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='st'>'shakespeare'</span>, <span class='kw'>metric</span><span class='kw'>=</span><span class='st'>'fielddata'</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='st'>'shakespeare'</span>, <span class='kw'>metric</span><span class='kw'>=</span><span class='st'>'fielddata'</span>, <span class='kw'>fielddata_fields</span> <span class='kw'>=</span> <span class='st'>"evictions"</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>, <span class='kw'>level</span><span class='kw'>=</span><span class='st'>"indices"</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>, <span class='kw'>level</span><span class='kw'>=</span><span class='st'>"cluster"</span>)
<span class='fu'>index_stats</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>, <span class='kw'>level</span><span class='kw'>=</span><span class='st'>"shards"</span>)

<span class='co'># Get segments information that a Lucene index (shard level) is built with</span>
<span class='fu'>index_segments</span>(<span class='no'>x</span>)
<span class='fu'>index_segments</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
<span class='fu'>index_segments</span>(<span class='no'>x</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'plos'</span>,<span class='st'>'gbif'</span>))

<span class='co'># Get recovery information that provides insight into on-going index shard recoveries</span>
<span class='fu'>index_recovery</span>(<span class='no'>x</span>)
<span class='fu'>index_recovery</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
<span class='fu'>index_recovery</span>(<span class='no'>x</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'plos'</span>,<span class='st'>'gbif'</span>))
<span class='fu'>index_recovery</span>(<span class='no'>x</span>, <span class='st'>"plos"</span>, <span class='kw'>detailed</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'>index_recovery</span>(<span class='no'>x</span>, <span class='st'>"plos"</span>, <span class='kw'>active_only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Optimize an index, or many indices</span>
<span class='kw'>if</span> (<span class='no'>x</span>$<span class='fu'>es_ver</span>() <span class='kw'>&lt;</span> <span class='fl'>500</span>) {
  <span class='co'>### ES &lt; v5 - use optimize</span>
  <span class='fu'>index_optimize</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
  <span class='fu'>index_optimize</span>(<span class='no'>x</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'plos'</span>,<span class='st'>'gbif'</span>))
  <span class='fu'>index_optimize</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
} <span class='kw'>else</span> {
  <span class='co'>### ES &gt; v5 - use forcemerge</span>
  <span class='fu'>index_forcemerge</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
}

<span class='co'># Upgrade one or more indices to the latest format. The upgrade process converts any</span>
<span class='co'># segments written with previous formats.</span>
<span class='kw'>if</span> (<span class='no'>x</span>$<span class='fu'>es_ver</span>() <span class='kw'>&lt;</span> <span class='fl'>500</span>) {
  <span class='fu'>index_upgrade</span>(<span class='no'>x</span>, <span class='st'>'plos'</span>)
  <span class='fu'>index_upgrade</span>(<span class='no'>x</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'plos'</span>,<span class='st'>'gbif'</span>))
}

<span class='co'># Performs the analysis process on a text and return the tokens breakdown</span>
<span class='co'># of the text</span>
<span class='fu'>index_analyze</span>(<span class='no'>x</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='st'>'this is a test'</span>, <span class='kw'>analyzer</span><span class='kw'>=</span><span class='st'>'standard'</span>)
<span class='fu'>index_analyze</span>(<span class='no'>x</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='st'>'this is a test'</span>, <span class='kw'>analyzer</span><span class='kw'>=</span><span class='st'>'whitespace'</span>)
<span class='fu'>index_analyze</span>(<span class='no'>x</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='st'>'this is a test'</span>, <span class='kw'>analyzer</span><span class='kw'>=</span><span class='st'>'stop'</span>)
<span class='fu'>index_analyze</span>(<span class='no'>x</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='st'>'this is a test'</span>, <span class='kw'>tokenizer</span><span class='kw'>=</span><span class='st'>'keyword'</span>,
  <span class='kw'>filters</span><span class='kw'>=</span><span class='st'>'lowercase'</span>)
<span class='fu'>index_analyze</span>(<span class='no'>x</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='st'>'this is a test'</span>, <span class='kw'>tokenizer</span><span class='kw'>=</span><span class='st'>'keyword'</span>,
  <span class='kw'>filters</span><span class='kw'>=</span><span class='st'>'lowercase'</span>, <span class='kw'>char_filters</span><span class='kw'>=</span><span class='st'>'html_strip'</span>)
<span class='fu'>index_analyze</span>(<span class='no'>x</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='st'>'this is a test'</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>'plos'</span>,
  <span class='kw'>analyzer</span><span class='kw'>=</span><span class='st'>"standard"</span>)
<span class='fu'>index_analyze</span>(<span class='no'>x</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='st'>'this is a test'</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>'shakespeare'</span>,
  <span class='kw'>analyzer</span><span class='kw'>=</span><span class='st'>"standard"</span>)

<span class='co'>## NGram tokenizer</span>
<span class='no'>body</span> <span class='kw'>&lt;-</span> <span class='st'>'{
        "settings" : {
             "analysis" : {
                 "analyzer" : {
                     "my_ngram_analyzer" : {
                         "tokenizer" : "my_ngram_tokenizer"
                     }
                 },
                 "tokenizer" : {
                     "my_ngram_tokenizer" : {
                         "type" : "nGram",
                         "min_gram" : "2",
                         "max_gram" : "3",
                         "token_chars": [ "letter", "digit" ]
                     }
                 }
             }
      }
}'</span>
<span class='kw'>if</span> (<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='st'>"shakespeare2"</span>)) <span class='fu'>index_delete</span>(<span class='no'>x</span>, <span class='st'>"shakespeare2"</span>)
<span class='fu'><a href='tokenizer_set.html'>tokenizer_set</a></span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"shakespeare2"</span>, <span class='kw'>body</span><span class='kw'>=</span><span class='no'>body</span>)
<span class='fu'>index_analyze</span>(<span class='no'>x</span>, <span class='kw'>text</span> <span class='kw'>=</span> <span class='st'>"art thouh"</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"shakespeare2"</span>,
  <span class='kw'>analyzer</span><span class='kw'>=</span><span class='st'>'my_ngram_analyzer'</span>)

<span class='co'># Explicitly flush one or more indices.</span>
<span class='fu'>index_flush</span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"plos"</span>)
<span class='fu'>index_flush</span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"shakespeare"</span>)
<span class='fu'>index_flush</span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"plos"</span>,<span class='st'>"shakespeare"</span>))
<span class='fu'>index_flush</span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"plos"</span>, <span class='kw'>wait_if_ongoing</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'>index_flush</span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"plos"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Clear either all caches or specific cached associated with one ore more indices.</span>
<span class='fu'>index_clear_cache</span>(<span class='no'>x</span>)
<span class='fu'>index_clear_cache</span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"plos"</span>)
<span class='fu'>index_clear_cache</span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='st'>"shakespeare"</span>)
<span class='fu'>index_clear_cache</span>(<span class='no'>x</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"plos"</span>,<span class='st'>"shakespeare"</span>))
<span class='fu'>index_clear_cache</span>(<span class='no'>x</span>, <span class='kw'>filter</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Index settings</span>
<span class='co'>## get settings</span>
<span class='fu'>index_settings</span>(<span class='no'>x</span>)
<span class='fu'>index_settings</span>(<span class='no'>x</span>, <span class='st'>"_all"</span>)
<span class='fu'>index_settings</span>(<span class='no'>x</span>, <span class='st'>'gbif'</span>)
<span class='fu'>index_settings</span>(<span class='no'>x</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'gbif'</span>,<span class='st'>'plos'</span>))
<span class='fu'>index_settings</span>(<span class='no'>x</span>, <span class='st'>'*s'</span>)
<span class='co'>## update settings</span>
<span class='kw'>if</span> (<span class='fu'>index_exists</span>(<span class='no'>x</span>, <span class='st'>'foobar'</span>)) <span class='fu'>index_delete</span>(<span class='no'>x</span>, <span class='st'>'foobar'</span>)
<span class='fu'>index_create</span>(<span class='no'>x</span>, <span class='st'>"foobar"</span>)
<span class='no'>settings</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>index</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>number_of_replicas</span> <span class='kw'>=</span> <span class='fl'>4</span>))
<span class='fu'>index_settings_update</span>(<span class='no'>x</span>, <span class='st'>"foobar"</span>, <span class='kw'>body</span> <span class='kw'>=</span> <span class='no'>settings</span>)
<span class='fu'>index_get</span>(<span class='no'>x</span>, <span class='st'>"foobar"</span>)$<span class='no'>foobar</span>$<span class='no'>settings</span>
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#mappings">Mappings</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Scott Chamberlain <a href='mailto:myrmecocystus@gmail.com'>myrmecocystus@gmail.com</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Scott Chamberlain.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

